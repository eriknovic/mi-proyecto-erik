\chapter{Evaluación experimental}
\label{cap:exp}
%%%% Observación consiste en la medida y registro de hechos observables.
La \textit{integración semántica de los recursos} es el proceso de búsqueda y recuperación de información en un \textit{grafo de conocimiento (ontología)}. Un \textit{motor de búsqueda} es el mecanismo encargado de realizar la consulta de información en los grafos de conocimiento, para responder una consulta dada.

La \textit{calidad de los resultados} depende del uso o no de inferencia en un modelo semántico. Si un motor emplea un \textit{modelo sin inferencia} como el ejemplo de la Figura \ref{fig:grafoSR}, entonces el motor puede proporcionar todos, varios o ningún resultado. Esta variedad en la entrega de resultados, depende de las consultas SPARQL: 1) \textit{consultas sobre las declaraciones de los recursos}, como la consulta de la Figura \ref{fig:q112rql}, 2) \textit{consultas que agrupan varios patrones para un criterio de búsqueda}, como las consultas de las Figuras \ref{fig:q2rqlSR} y \ref{fig:q2torqlSR}, y 3) \textit{consultas simplificadas de las anteriores consultas}, como las consultas de las Figuras \ref{fig:q2rqlCR} y \ref{fig:q2torqlCR}. En contraste, un motor puede entregar mejores resultados cuando emplea un modelo que se obtiene de la inferencia en una ontología. Un ejemplo de este modelo se presenta en la Figura \ref{fig:grafoCR}.

Una característica asociada al uso de inferencia, es el impacto en el \textit{tiempo de procesamiento} para responder las consultas. Por un lado, se ha observado que el \textit{tiempo de consulta} es pequeño cuando se usa un modelo sin inferencia. En cambio, si se emplea inferencia en una ontología, entonces el tiempo es mayor comparado con el modelo sin inferencia.

%%%% Hipótesis es una solución para un problema dado.
A partir de estas observaciones, nuestras dos hipótesis de experimentación  son éstas: 1) \textit{un \textbf{motor de búsqueda} obtiene \textbf{mejores resultados} cuando utiliza un modelo con inferencia} y 2) \textit{el \textbf{tiempo de consulta} es \textbf{mayor} para un \textit{modelo con inferencia} en comparación de un modelo sin inferencia}.

%%%% Método consiste en: la elección de los sujetos para confirmar la muestra, el procedimiento a seguir para éstos, las variables consideradas: dependiente, independiente y auxiliares.

%%Elaborar un experimento que ponga a prueba una hipótesis
Para probar nuestras hipótesis, nosotros  Nuestra experimentación consiste en ...

%%Elección de los sujetos para confirmar la muestra
Este proyecto contempla dos casos de uso: la Cartografía de Competencias (C1) y la Búsqueda de Recursos Digitales (C2).

Los recursos persona agrupan a los miembros del Área de Redes y Telecomunicaciones. Los recursos digitales conjuntan todos los documentos digitales y archivos multimedia que emplean los miembros del área.

Los recursos persona (C1) se clasifican en cuatro tipos básicos: Profesor, Empleado, Investigador y Estudiante. Un profesor es aquella persona que imparte docencia y está adscrito a una Universidad. Un empleado es aquella persona que trabaja en una organización y realiza otras actividades distintas a la docencia. Un investigador es aquella persona que realiza actividades de investigación científica. Finalmente un estudiante es la persona que estudia en una Universidad y realiza algún proyecto (terminal, investigación o doctoral).

Estas cuatro agrupaciones básicas se pensaron para ser conjuntos no disjuntos. Por este motivo, un persona puede ser estudiante y también empleado, inclusive una persona puede pertenecer a los cuatro grupos básicos. En general, un recurso persona puede estar en varias agrupaciones, siempre y cuando, este recurso tenga explícitamente las aserciones que lo vincule con más de un tipo básico.

Por otro lado existen personas que no pertenecen a los conjuntos básicos, por tal razón, estos individuos no poseen ninguna aserción (rdf:type) a un tipo básico. Este hecho es importante, porque en la búsqueda de información hay personas que carecer de la propiedad tipo, de esta manera, estas personas pueden ser excluidas de los resultados de la búsqueda. 

Nuestra experimentación con los recursos persona se basa en la asignación explícita de solo uno de los cuatro tipos básicos o la carencia de esta asignación. En concreto, se tienen 73 recursos persona de los cuales: 51 son son profesores o empleados (profesionista) y 23 estudiantes. De estas 51 personas profesionistas: 19 son profesores, 9 empleados y el resto (33) no están catalogados pero sabemos que trabajan. Ahora bien de los 23 estudiantes se afirma explícitamente que 9 son estudiantes y el resto (14) solo se sabe que estudian, porque en descripción RDF se tiene la propiedad ?estudiaEn?. Con respecto a los investigadores, explícitamente ninguna persona se identifica como investigador pero sabemos que 13 hacen investigación (en su descripción RDF tienen la propiedad investiga-sobre).

Nosotros para representar mejor los valores de la tabla 1, decidimos hacer un diagrama de Venn. La figura 1 muestra los 4 tipos básicos, así como otras agrupaciones a partir de estos 4 tipos. También este diagrama contempla aquellos recursos que se deducen a partir del razonador. Específicamente, aquellas personas que estudian y cuya propiedad ?rdf:type? no es explícita, a través del razonador se infiere que estos son estudiantes. De la misma manera, aquellos recursos que no estamos seguros si pertenecen a uno de los 4 tipos básicos, empleando el razonador se puede inferir si son profesionistas o personas.

Los Recursos Digitales (C2) se clasifican en ocho grupos: Artículos, Reportes Técnicos, Páginas Web, Tesis, Libros, Presentaciones, Imágenes, Audios y Videos. La clasificación de los recursos digitales se hace con base en las características de los mismos. Un artículo es una documento de carácter científico que es publicado en revistas o ponencias. Un reporte técnico es un documento que informa el estatus técnico de un problema. Una Página Web es un documento que emplea un lenguaje de etiquetado, típicamente html. Un tesis es un documento sobre un tema particular que se emplea para obtener algún grado académico. Un libro es un documento literario o científico que debe poseer más de 49 páginas [1]. Una presentación es un recurso multimedia empleado para mostrar visualmente información sobre un determinado tema, puede contener imágenes, videos, y oraciones cortas. Una Imagen es un recurso multimedia de contenido visual. Un Audio es un recurso multimedia de contenido auditivo y típicamente se emplea para: grabar una conversación importante o como archivos de prueba. Un Video es un recursos multimedia de contenido audiovisual.

Estas ocho agrupaciones son conjuntos disjuntos, por tanto, ningún recurso digital debe estar en más de una agrupación de las ocho básicas. Ésto significa que los recursos digitales tienen explícitamente sólo una asignación de las ocho básicas. Por otra parte, estos recursos digitales también pueden carecer de esta asignación. De esta manera, los recursos digitales pueden tener una o ninguna asignación de los ocho agrupaciones básicas. Estos ocho tipos básicos se agrupan en dos tipos generales. Por un lado, los documentos conjuntan los artículos, libros, reportes técnicos, páginas web, tesis y también todo aquel recurso escrito. Mientras los recursos multimedia conjuntan audios, videos, imágenes y presentaciones.

Nuestra experimentación cuenta con 1330 recursos digitales. Estos recursos se dividen en: 156 artículos, 366 libros, 34 reportes técnicos, 146 páginas web, 73 tesis, 42 videos, 42 audios, 77 imágenes y 112 presentaciones. Para los artículos hay 89 recursos que explícitamente tienen esta asignación. Las páginas web, libros y tesis respectivamente tienen 79, 185 y 31 recursos que explícitamente tienen la asignación del tipo. El resto de recursos digitales no poseen explícitamente la asignación del tipo. Pero, nosotros sabemos que hay 815 documentos y 515 recursos multimedia. La tabla 2 lista los tipos de recursos digitales y el número de recursos que tiene cada tipo.

A partir de estos números y las aserciones de todos los recursos, se hace un listado de consultas estáticas. La finalidad de estas consultas es interrogar la información de los recursos a partir de sus aserciones. Estas consultas se escriben en lenguaje natural y para cada una se enumeran los recursos que las responden. En particular, se tiene una lista de preguntas para los recursos persona (C1) y una lista para los recursos digitales (C2). La tabla 3 contiene las consultas sobre los recursos persona y para cada consulta se muestra el número de recursos que la responden. Mientras la tabla 4 lista las consultas para los recursos digitales, así como el número recursos que responden a estas consultas.

Para evaluar este costo en tiempo, calculamos el tiempo promedio que tarda cada consulta en responderse. Específicamente, nosotros tomamos el tiempo desde que se consulta la información del modelo hasta que se presentan los resultados en pantalla. Esta operación la repetimos veinte veces por consulta, de esta manera, sacamos el tiempo promedio por consulta de nuestro modelo. 

Esta medición del tiempo promedio se hace a partir de un script en Java. Este script se ejecuta en una computadora que tiene un procesador Intel core I7 a 2.3GHz con 8Gb en ram y 8 núcleos de procesamiento.  Las siguientes dos tablas presentan los tiempos de respuesta para nuestro conjunto de consultas. En la tabla 7 se muestran los valores de las consultas para el caso de uso Cartografía de Competencias, en tanto, la tabla 8 muestra los tiempos para el caso de uso Recursos Digitales. En ambas tablas, se contemplan los tiempos de respuesta y el número de resultados para las consultas que emplean sólo con ABox, así como para las consultas que utilizan ABox, TBox y un Razonador (ATR).

--------------
En esta experimentación hay 73 personas y 1330 recursos digitales. Nosotros escribimos manualmente los triples de 11 personas que están adscritas al Departamento de Ingeniería Eléctrica de la Universidad Autónoma Metropolitana y los triples de las otras 60 fueron generados artificialmente. Por otro lado, nosotros escribimos manualmente los triples de 16 recursos digitales, mientras que los triples de los otros 1314 fueron generados artificialmente.

Las 73 personas se clasifican en: Profesor, Estudiante, Empleado, Profesionista, Investigador y Persona. Mientras los 1330 recursos digitales se clasifican en: Artículos, Reportes Técnicos, Páginas Web, Tesis, Libros, Presentaciones, Imágenes, Audios, Videos, Documento, Multimedia y Recurso Digital. En particular, para cada clase de Persona y Recursos Digital se tienen las siguientes cantidades:

Para los recursos persona en esta experimentación se tienen 1750 triples. Mientras, para los recursos digitales se tienen 20429 triples. De esta manera, el número total de triples en esta experimentación son 22179.

Por otro lado, basándonos en las consultas básicas para nuestros modelos, el análisis de los triples escritos manualmente y el uso de variables contador en los dos scripts, se identificaron para cada consulta el número de recursos que responden a la misma. En la tabla 3 se listan solamente 10 de nuestras 28 preguntas y el número de resultados de las mismas.
--------------
%%Procedimiento a seguir para éstos

Ahora bien, la finalidad de este listado es tomar los tiempos promedios y el número de respuestas, cuándo las consultas SPARQL se hacen con el motor sin razonador y con razonador. Con la finalidad de averiguar la precisión [5], así como el desempeño del motor de SPARQL y el razonador de Jena.

Las dos variables de experimentación son tiempo y número de resultados.  La variable tiempo nos permite sacar el tiempo promedio que toma una consulta en ser ejecutada K veces. Mientras la variable número de resultados almacena la cantidad de recursos que fueron recuperados para una consulta dada. 
	
Para encontrar los valores de estas variables, nosotros empleamos un programa en Java. Este programa se ha diseñado para ejecutar únicamente una consulta e imprimir los valores de las variables en pantalla. El programa permite elegir al usuario el modelo RDF a consultar. Si es modelo RDF con triples explícitos, entonces solo cargan los triples (ABox) de los recursos. Por el contrario, si el modelo es con triples inferidos, entonces se cargan los triples (ABox), los axiomas (TBox) y se hace inferencia con el razonador de Jena.
Este programa se ejecutó en una computadora con las siguientes capacidades: Procesador Intel Core I7 a 2.3GHz con 8Gb en RAM y 8 núcleos de procesamiento, y los valores resultantes de las variables se muestran en la Tabla 2.


%%Variables consideradas: dependiente, independiente y auxiliares


%%%% Resultados consiste en describir: cuales son las relaciones observadas entre las variables y la descripción gráfica de estos resultados.

---------------------------
En esta tabla se tienen dos columnas compuestas, la columna (titulada conocimiento explícito) muestra los valores de las consultas que emplearon únicamente el modelo con triples explícitos. Mientras, la segunda columna (titulada conocimiento inferido) muestra los valores de las consultas que emplearon el modelo con triples explícitos, axiomas y un razonador. Para las columnas sencillas, la columna ?Número de resultados? muestra el número de recursos recuperados del total esperado para la consulta dada, mientras la columna ?Tiempo promedio? muestra el tiempo promedio de consulta en milisegundos.

En algunos casos, la consulta al conocimiento explícito recupera todos los recursos esperados y los tiempos de respuesta son pequeños (no pasan del segundo). Sin embargo, en otras consultas se descartaron varios recursos que si responden la consulta. Esto se debe a que algunos recursos carecen un determinado triple. Por otro lado, las consultas al grafo con triples inferidos permitieron recuperar todos los recursos esperados, porque mediante los axiomas y el razonador se deducen triples (materializaron) que serán considerados por el motor de búsqueda . Sin embargo, el tiempo de procesamiento es mucho mayor porque se invierte tiempo en procesar e inferir relaciones en el grafo RDF.

Todo tiene un costo, cuando el razonador materializa los triples en el modelo, éste consume tiempo en procesamiento y al hacer una consulta, el motor debe comparar más aserciones. El desarrollador no debe abusar de la axiomatización, en algunos casos cuando la consulta es sobre  hechos explícitos, no es necesario el uso del razonador, basta con escribir y hacer la consulta sobre el conocimiento explícito.
---------------------------

%%%% Conclusiones, se obtienen a partir del estudio de los resultados. Éstas son el resultado de la discusión de las premisas.

La primer conclusión afirma que el performance mejora cuando se usan axiomas. Esta afirmación resulta cierta, porque un razonador deduce una relación que vincula directamente dos objetos. Análogamente, resulta más rápido ir por el camino directo que por una serie de rutas hasta el mismo objeto.

La segunda conclusión tiene que ver con el número de resultados. Si bien, las aserciones establecen un conjunto directo y estático de enlaces entre los distintos recursos de nuestro modelo. En muchas ocasiones, al momento de construir una consulta SPARQL no se contemplan algunos de estos enlaces, inclusive en otros casos, estos enlaces no están escritos explícitamente. Por consiguiente, mucho recursos no se contemplan como respuesta para una consulta. En contraste, los axiomas, aserciones y un razonador, establecen estos enlaces entre recursos de forma explícita en memoria, de esta manera, las consultas respondan más resultados que no se habían contemplado.

%http://hal-lirmm.ccsd.cnrs.fr/docs/00/63/97/05/PDF/A_Flexible_System_for_Ontology_Matching.pdf

%%Precisión
%%?Es la proporción del material recuperado que realmente es relevante, del total de documentos recuperados? [2, 3]. En donde la precisión está dada por la relación entre Documentos Relevantes Recuperados y Documentos recuperados. Y cuyo intervalo está entre el cero y uno.
%%Presisión =  (Documentos Relevantes Recuperados)/(Total de Documentos recuperados)
%%Dibujo de ejemplo
%%Exhaustividad
%%?Proporción de material relevante recuperado del total de documentos que son relevantes, Donde la exhaustividad es inversamente proporcional a la precisión? [3]. Igual que en la precisión el intervalo está entre el cero y uno.
%%Exhasutividad =  (Documentos Relevantes Recuperados)/(Total de Documentos Relevantes en la MC)

Funcionamiento de los scripts 
%https://docs.google.com/document/d/1c-JfQYGg7O2xMTNh5gCmdtiDf2vmrsreQfpLU9na4AQ/edit

\section{Escenarios de experimentación}
Algún texto...

\begin{table}[!htb]
%\renewcommand{\arraystretch}{1.2}
\centering
\begin{tabular}{>{\centering\arraybackslash}m{1in} >{\arraybackslash}m{3.5in} >{\centering\arraybackslash}m{1in}}
\hline 
Id. Consulta & Pregunta & No. de Recursos\\
\hline
\hline 
Q1 & ¿Cuáles son los títulos, rutas, extensión, idioma de todos los recursos digitales de RyT? & 1330 \\
\hline
Q2 & ¿Cuáles libros tratan sobre algunos temas de Sistemas Distribuidos? & 103\\
\hline 
Q3 & ¿Qué recursos fueron publicados por la UAM? & 18\\
\hline 
Q4 & ¿Qué documentos son para dar un curso de Sistemas P2P? & 31\\
\hline 
Q5 & ¿Qué recursos multimedia son mayores al año 2009? & 119\\
\hline 
Q6 & ¿Cuáles documentos tratan sobre Ontologías? & 30\\
\hline 
Q7 & ¿Qué recursos fueron publicados en una Revista científica? & 156\\
\hline 
Q8 & ¿Qué recursos tienen en su contenido las palabras "linked data"? & 159\\
\hline 
Q9 & ¿Cuáles documentos en inglés y mayores al año 2000 son de autoría de Erik Alarcón Zamora? & 2\\
\hline 
Q10 & ¿Cuáles la tesis de Samuel Hernández Maza? & 4\\
\hline 
\end{tabular}
\end{table}


\begin{table}[!htb]
\renewcommand{\arraystretch}{1.2}
\centering
\begin{tabular}{| >{\centering\arraybackslash}m{1in} | >{\centering\arraybackslash}m{1in} | >{\centering\arraybackslash}m{1in} | >{\centering\arraybackslash}m{1in} | >{\centering\arraybackslash}m{1in} | }
\hline 
\multirow{2}{*}{Id. Consulta} & \multicolumn{2}{c|}{Modelo (ABox)} & \multicolumn{2}{c|}{Modelo (Razonador+Ontología)}\\
\cline{2-5} 
 & Tiempo promedio (ms) & No. Recursos  & Tiempo promedio (ms) & No. Recursos\\
\hline 
\hline
Q1 & 12 & 1330/1330 & 138 & 1330/1330\\
\hline
Q2 & 10 & 0/103 & 194 & 103/103\\
\hline
Q3 & 8 & 18/18 & 406 & 18/18\\
\hline
Q4 & 28 & 15/31 & 129 & 31/31\\
\hline
Q5 & 7 & 66/119 & 157 & 119/119\\
\hline
Q6 & 9 & 15/30 & 4016 & 30/30\\
\hline
Q7 & 12 & 156/156 & 3520 & 156/156\\
\hline
Q8 & 16 & 159/159 & 3472 & 159/159\\
\hline
Q9 & 42 & 0/2 & 3451 & 2/2\\
\hline
Q10 & 13 & 3/4 & 3312 & 4/4\\
\hline
\end{tabular}
\end{table}

\section{Experimentación}
Más texto...

\section{Resultados}
Más texto...

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
La integración semántica consiste en la búsqueda y recuperación de la información de los recursos. En este punto, es importante evaluar esa recuperación y medir los tiempos de procesamiento para un modelo con razonamiento en Jena. Para evaluar la recuperación de los recursos consiste en enumerar los recursos que responden a una consulta. Mientras, el tiempo promedio de procesamiento es la media en tiempo (milisegundos) que tarda una consulta en ejecutarse.
	En esta experimentación hay 73 personas y 1330 recursos digitales. Nosotros escribimos manualmente los triples de 11 personas que están adscritas al Departamento de Ingeniería Eléctrica de la Universidad Autónoma Metropolitana y los triples de las otras 60 fueron generados artificialmente. Por otro lado, nosotros escribimos manualmente los triples de 16 recursos digitales, mientras que los triples de los otros 1314 fueron generados artificialmente.
	Las 73 personas se clasifican en: Profesor, Estudiante, Empleado, Profesionista, Investigador y Persona. Mientras los 1330 recursos digitales se clasifican en: Artículos, Reportes Técnicos, Páginas Web, Tesis, Libros, Presentaciones, Imágenes, Audios, Videos, Documento, Multimedia y Recurso Digital. En particular, para cada clase de Persona y Recursos Digital se tienen las siguientes cantidades:
Para los recursos persona en esta experimentación se tienen 1750 triples. Mientras, para los recursos digitales se tienen 20429 triples. De esta manera, el número total de triples en esta experimentación son 22179.
	Por otro lado, basándonos en las consultas básicas para nuestros modelos, el análisis de los triples escritos manualmente y el uso de variables contador en los dos scripts, se identificaron para cada consulta el número de recursos que responden a la misma. En la tabla 3 se listan solamente 10 de nuestras 28 preguntas y el número de resultados de las mismas.
	Ahora bien, la finalidad de este listado es tomar los tiempos promedios y el número de respuestas, cuándo las consultas SPARQL se hacen con el motor sin razonador y con razonador. Con la finalidad de averiguar la precisión [5], así como el desempeño del motor de SPARQL y el razonador de Jena.
	Las dos variables de experimentación son tiempo y número de resultados.  La variable tiempo nos permite sacar el tiempo promedio que toma una consulta en ser ejecutada K veces. Mientras la variable número de resultados almacena la cantidad de recursos que fueron recuperados para una consulta dada. 
	Para encontrar los valores de estas variables, nosotros empleamos un programa en Java. Este programa se ha diseñado para ejecutar únicamente una consulta e imprimir los valores de las variables en pantalla. El programa permite elegir al usuario el modelo RDF a consultar. Si es modelo RDF con triples explícitos, entonces solo cargan los triples (ABox) de los recursos. Por el contrario, si el modelo es con triples inferidos, entonces se cargan los triples (ABox), los axiomas (TBox) y se hace inferencia con el razonador de Jena.
Este programa se ejecutó en una computadora con las siguientes capacidades: Procesador Intel Core I7 a 2.3GHz con 8Gb en RAM y 8 núcleos de procesamiento, y los valores resultantes de las variables se muestran en la Tabla 2.

Interpretación de resultados
	En esta tabla se tienen dos columnas compuestas, la columna (titulada conocimiento explícito) muestra los valores de las consultas que emplearon únicamente el modelo con triples explícitos. Mientras, la segunda columna (titulada conocimiento inferido) muestra los valores de las consultas que emplearon el modelo con triples explícitos, axiomas y un razonador. Para las columnas sencillas, la columna ?Número de resultados? muestra el número de recursos recuperados del total esperado para la consulta dada, mientras la columna ?Tiempo promedio? muestra el tiempo promedio de consulta en milisegundos.
	En algunos casos, la consulta al conocimiento explícito recupera todos los recursos esperados y los tiempos de respuesta son pequeños (no pasan del segundo). Sin embargo, en otras consultas se descartaron varios recursos que si responden la consulta. Esto se debe a que algunos recursos carecen un determinado triple. Por otro lado, las consultas al grafo con triples inferidos permitieron recuperar todos los recursos esperados, porque mediante los axiomas y el razonador se deducen triples (materializaron) que serán considerados por el motor de búsqueda . Sin embargo, el tiempo de procesamiento es mucho mayor porque se invierte tiempo en procesar e inferir relaciones en el grafo RDF.
Todo tiene un costo, cuando el razonador materializa los triples en el modelo, éste consume tiempo en procesamiento y al hacer una consulta, el motor debe comparar más aserciones. El desarrollador no debe abusar de la axiomatización, en algunos casos cuando la consulta es sobre  hechos explícitos, no es necesario el uso del razonador, basta con escribir y hacer la consulta sobre el conocimiento explícito.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Documento importante
%https://docs.google.com/document/d/1rv-RDqdSB3Sd_zd7WANHDRXqEa_UHgV0WjC0DupYK4M/edit